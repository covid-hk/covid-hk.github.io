<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-157554444-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-157554444-1');
  </script>
  <!-- Google AdSense -->
  <script data-ad-client="ca-pub-6678953347422465" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <meta charset="UTF-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Expires" content="0">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
  <meta name="author" content="AmazyHK">
  <meta name="description" content="過去14天內曾有確診個案居住過的住宅大廈 或 過去14天內曾出現兩宗或以上確診個案的非住宅大廈 | Residential buildings in which confirmed cases have resided in the past 14 days or non-residential building with 2 or more confirmed cases in the past 14 days">
  <meta name="keywords" content="武漢肺炎,冠狀病毒,2019-nCoV,ncov,wars,COVID-19,疫情,抗疫,防疫,急症室,a&amp;e,A&amp;E">
  <meta name="revisit-after" content="7 days">
  <meta name="robots" content="follow,index">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
  <!--<meta name="viewport" content="width=550">-->
  <meta property="og:type" content="website">
  <meta property="og:title" content="香港確診個案追蹤 Coronavirus Disease (COVID-19) in HK">
  <meta property="og:description" content="過去14天內曾有確診個案居住過的住宅大廈 或 過去14天內曾出現兩宗或以上確診個案的非住宅大廈 | Residential buildings in which confirmed cases have resided in the past 14 days or non-residential building with 2 or more confirmed cases in the past 14 days">
  <meta property="og:image" content="covid_icon512.png">
  <meta property="og:url" content="https://covid-hk.github.io/">
  <meta property="og:site_name" content="香港確診個案追蹤 Coronavirus Disease (COVID-19) in HK">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="香港確診個案追蹤 Coronavirus Disease (COVID-19) in HK">
  <meta name="twitter:description" content="過去14天內曾有確診個案居住過的住宅大廈 或 過去14天內曾出現兩宗或以上確診個案的非住宅大廈 | Residential buildings in which confirmed cases have resided in the past 14 days or non-residential building with 2 or more confirmed cases in the past 14 days">
  <title>香港確診個案追蹤 Coronavirus Disease (COVID-19) in HK</title>
  <!-- Bootstrap 4.5: CSS only -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <!-- Bootstrap 4.5: JS, Popper.js, and jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  <!-- jQuery csv -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/1.0.11/jquery.csv.min.js" crossorigin="anonymous"></script>
  <!-- AngularJS 1.8.0 -->
  <!--<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.0/angular.min.js"></script>-->
  <!-- Moment -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
  <!-- Google Icons -->
  <!--<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">-->
  <!-- Font Awesome 5 Icons -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
  <!-- Google Chart -->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <!-- Chart.js v2.9.3 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
  <script src="https://chartjs-plugin-datalabels.netlify.com/chartjs-plugin-datalabels.js"></script>
  <!-- Custom -->
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" sizes="128x128" href="covid_icon128.png">
  <link rel="apple-touch-icon" sizes="192x192" href="covid_icon192.png">
  <link rel="apple-touch-icon" sizes="512x512" href="covid_icon512.png">
  <link rel="icon" sizes="128x128" href="covid_icon128.png">
  <link rel="icon" sizes="192x192" href="covid_icon192.png">
  <link rel="icon" sizes="512x512" href="covid_icon512.png">
  <link rel="stylesheet" href="building_list.css?v=1.0">
  <script src="ajax_controller.js?v=1.0"></script>
  <script src="geolocation.js?v=1.0"></script>
  <script src="building_list.js?v=1.0"></script>
  <script src="cases_chart.js?v=1.0"></script>
  <script src="enhanced_sur.js?v=1.0"></script>
  <!--<script defer src="custom.js?v=1.0"></script>-->
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col" style="margin:10px auto 5px;">
        <h6 style="font-size:0.9rem;"><i class='far fa-building'></i>&nbsp;&nbsp;過去14天內曾有確診個案居住過的住宅大廈 或</h6>
        <h6 style="font-size:0.9rem;"><i class='fas fa-hotel'></i>&nbsp;&nbsp;過去14天內曾出現兩宗或以上確診個案的非住宅大廈</h6>
        <h6 style="font-size:0.9rem;"><i class='far fa-building'></i>&nbsp;&nbsp;Residential buildings in which confirmed cases have resided in the past 14 days OR</h6>
        <h6 style="font-size:0.9rem;"><i class='fas fa-hotel'></i>&nbsp;&nbsp;Non-residential building with 2 or more confirmed cases in the past 14 days</h6>
        <h6 style="font-size:0.9rem;" id="header-update-time"></h6>
        <h6 style="font-size:0.7rem;">
          <button type="button" class="btn btn-info" data-toggle="modal" data-target="#chartModal" style="font-size:0.7rem;"><i class='fas fa-chart-line'></i>&nbsp;&nbsp;圖表分析 Graph Analysis</button>
          <a href="https://www.coronavirus.gov.hk/chi/index.html#Updates_on_COVID-19_Situation" data-toggle="tooltip" title="coronavirus.gov.hk" class="btn btn-outline-primary" role="button" target="_blank" style="font-size:0.7rem;"><i class='far fa-folder-open'></i>&nbsp;&nbsp;資料來源 Data Source</a>
        </h6>
      </div>
    </div>
    <div class="row button-wrap">
      <div class="col-1">
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-tm" value="TM" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-tm" for="district-tm">屯門<br/><span class="district-name-en">Tuen Mun</span><span class="district-name-id">TM</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-yl" value="YL" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-yl" for="district-yl">元朗<br/><span class="district-name-en">Yuen Long</span><span class="district-name-id">YL</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-n" value="N" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-n" for="district-n">北區<br/><span class="district-name-en">North</span><span class="district-name-id">N</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-tp" value="TP" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-tp" for="district-tp">大埔<br/><span class="district-name-en">Tai Po</span><span class="district-name-id">TP</span></label>
      </div>
      <div class="col-1">
      </div>
    </div>
    <div class="row button-wrap">
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-is" value="IS" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-is" for="district-is">離島<br/><span class="district-name-en">Islands</span><span class="district-name-id">IS</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-knt" value="KNT" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-knt" for="district-knt">葵青<br/><span class="district-name-en">Kwai Tsing</span><span class="district-name-id">K&amp;T</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-tw" value="TW" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-tw" for="district-tw">荃灣<br/><span class="district-name-en">Tsuen Wan</span><span class="district-name-id">TW</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-st" value="ST" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-st" for="district-st">沙田<br/><span class="district-name-en">Sha Tin</span><span class="district-name-id">ST</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-sk" value="SK" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-sk" for="district-sk">西貢<br/><span class="district-name-en">Sai Kung</span><span class="district-name-id">SK</span></label>
      </div>
    </div>
    <div class="row button-wrap">
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-ssp" value="SSP" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-ssp" for="district-ssp">深水埗<br/><span class="district-name-en">Sham Shui Po</span><span class="district-name-id">SSP</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-ytm" value="YTM" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-ytm" for="district-ytm">油尖旺<br/><span class="district-name-en">Yau Tsim Mong</span><span class="district-name-id">YTM</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-kc" value="KC" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-kc" for="district-kc">九龍城<br/><span class="district-name-en">Kowloon City</span><span class="district-name-id">KC</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-wts" value="WTS" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-wts" for="district-wts">黃大仙<br/><span class="district-name-en">Wong Tai Sin</span><span class="district-name-id">WTS</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-kt" value="KT" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-kt" for="district-kt">觀塘<br/><span class="district-name-en">Kwun Tong</span><span class="district-name-id">KT</span></label>
      </div>
    </div>
    <div class="row button-wrap">
      <div class="col-1">
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-cnw" value="CNW" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-cnw" for="district-cnw">中西區<br/><span class="district-name-en">Central & Western</span><span class="district-name-id">C&amp;W</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-s" value="S" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-s" for="district-s">南區<br/><span class="district-name-en">Southern</span><span class="district-name-id">S</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-wc" value="WC" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-wc" for="district-wc">灣仔<br/><span class="district-name-en">Wan Chai</span><span class="district-name-id">WC</span></label>
      </div>
      <div class="col">
        <input class="hidden radio-label" type="radio" name="input-district" id="district-e" value="E" onclick="if(this.checked){cleanSearchBox(1)}"/>
        <label class="button-label" id="label-district-e" for="district-e">東區<br/><span class="district-name-en">Eastern</span><span class="district-name-id">E</span></label>
      </div>
      <div class="col-1">
      </div>
    </div>
    <!--<div class="row">
      <div class="col" style="margin:10px auto 5px;">
        <div class="alert alert-warning alert-dismissible" style="text-align:center;padding-top:20px;padding-bottom:20px;margin-bottom:0;">
          <div style="display:inline-block;width:100%;max-width:600px;font-size:0.95rem;">
            <button type="button" class="close" data-dismiss="alert" style="display:none;">&times;</button>
            <i class='fas fa-exclamation-circle'></i> 今天(3日)較早時間因衛生署提供的數據有誤<br/>導致系統異常，現已修復，不便之處，敬請見諒
          </div>
        </div>
      </div>
    </div>-->
    <div class="row py-2">
      <div class="col-12">
        <div class="alert alert-info" style="text-align:center;padding-top:20px;padding-bottom:15px;">
          <div style="display:inline-block;width:100%;max-width:600px;margin-bottom:5px;font-size:0.8rem;"><b>
            <label for="show-population-ratio">顯示地區確診人數</label>
            <input id="show-population-ratio" type="checkbox" class="switch toggle" onclick="onClickShowPopulation();">
            <label for="show-population-ratio">顯示地區確診比例</label>
            <span data-toggle="tooltip" title="地區確診比例：表示該地區每10萬人口之中於過去14天內的平均確診人數。數字越大表示該地區的確診人口比例較高，亦即現時較高危地區。E.g. 數字12.3表示該地區每10萬人口之中平均有12.3人於過去14天內確診。"><i class='far fa-question-circle' style="color:red;"></i></span>
          </b></div>
          <div style="display:inline-block;width:100%;max-width:600px;font-size:0.95rem;">
            <label for="search-keyword">
              <i class='far fa-hand-point-down'></i> 輸入 <b>個案編號</b> 或 <b>大廈字詞</b> 搜索 <i class='fas fa-search'></i>
            </label>
          </div>
          <div style="display:inline-block;width:100%;max-width:600px;">
            <div class="input-group">
              <button type="button" class="btn btn-info" data-toggle="modal" data-target="#chartModal" style="box-shadow:0 0 0 0.2rem rgba(58,176,195,.5);margin-right:20px;"><i class='fas fa-chart-line'></i></button>
              <div class="modal fade" id="chartModal">
                <div class="modal-dialog modal-dialog-centered modal-xl">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h6 class="modal-title" style="width:100%">
                        <span><i class='fas fa-chart-line'></i>&nbsp;&nbsp;本港2019冠狀病毒病的最新情況</span>
                        <br/>
                        <span>Latest reported cases of COVID-19 in HK</span>
                      </h6>
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                      <div id="case_line_summary" style="font-size:90%;margin-bottom:5px;"></div>
                      <canvas id="case_line_chart"></canvas>
                      <br/>
                      <div id="case_bar_summary" style="font-size:90%;margin-bottom:5px;"></div>
                      <canvas id="case_bar_chart"></canvas>
                      <br/>
                      <div id="case_pie_summary" style="font-size:90%;margin-bottom:5px;"></div>
                      <canvas id="case_pie_chart"></canvas>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-danger" data-dismiss="modal">關閉 Close</button>
                    </div>
                  </div>
                </div>
              </div>
              <input type="text" class="form-control" placeholder="e.g. 2099 或 APM" id="search-keyword">
              <div class="input-group-btn" style="margin-right:5px;">
                <button type="button" class="btn btn-primary" id="search-submit" onclick="refreshUI();"><i class='fas fa-search'></i></button>
              </div>
<script>
document.getElementById("search-keyword").addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
    event.preventDefault();
    document.getElementById("search-submit").click();
  }
});
</script>
              <button type="button" class="btn btn-secondary" onclick="cleanSearchBox(0);"><i class='far fa-trash-alt'></i></button>
            </div>
          </div>
          <div style="display:inline-block;width:100%;max-width:600px;margin-top:10px;font-size:0.75rem;line-height:1.3;">
            <span><i class='fas fa-location-arrow'></i> 當用戶啟用了 <b>GPS</b> 時，系統將自動切換成 <b>距離模式</b>，<br/>並嘗試顯示用戶附近的相關個案。<br/><i class='fas fa-exclamation-triangle' style='color:red;'></i> 為保障用戶私隱，我們 <b style='color:red;'>不會</b> 紀錄用戶的位置資訊。</span>
          </div>
          <div style="display:none;width:100%;max-width:600px;margin-top:5px;font-size:0.75rem;" id="input-group-distance"><b>
            <div class="form-check-inline">
              <label class="form-check-label">
                <span><i class='fas fa-crosshairs'></i> 距離 Distance</span>
              </label>
            </div>
            <div class="form-check-inline">
              <label class="form-check-label" for="district-500">
                <input type="radio" class="form-check-input toggle" id="district-500" name="input-district" value="500" onclick="if(this.checked){cleanSearchBox(1)}"> &lt;500m
              </label>
            </div>
            <div class="form-check-inline">
              <label class="form-check-label" for="district-1000">
                <input type="radio" class="form-check-input toggle" id="district-1000" name="input-district" value="1000" onclick="if(this.checked){cleanSearchBox(1)}"> &lt;1km
              </label>
            </div>
            <div class="form-check-inline">
              <label class="form-check-label" for="district-2000">
                <input type="radio" class="form-check-input toggle" id="district-2000" name="input-district" value="2000" onclick="if(this.checked){cleanSearchBox(1)}"> &lt;2km
              </label>
            </div>
          </b></div>
          <div style="display:inline-block;width:100%;max-width:600px;margin-top:10px;font-size:0.75rem;" id="input-group-building-type"><b>
            <div class="form-check-inline">
              <label class="form-check-label">
                <span><i class='far fa-building'></i> 大廈類別 Building Type</span>
              </label>
            </div>
            <div class="form-check-inline">
              <label class="form-check-label" for="show-residential">
                <input type="checkbox" class="form-check-input toggle" id="show-residential" name="input-building-type" value="Residential" onclick="onClickShowBuildingType(this)" checked> 住宅
              </label>
            </div>
            <div class="form-check-inline">
              <label class="form-check-label" for="show-non-residential">
                <input type="checkbox" class="form-check-input toggle" id="show-non-residential" name="input-building-type" value="Non-Residential" onclick="onClickShowBuildingType(this)" checked> 非住宅
              </label>
            </div>
          </b></div>
          <div style="display:inline-block;width:100%;max-width:600px;margin-top:15px;font-size:0.8rem;"><b>
            <label for="show-new-only">顯示全部個案</label>
            <input id="show-new-only" type="checkbox" class="switch toggle" onclick="refreshUI();">
            <label for="show-new-only">顯示新增個案</label>
            <span data-toggle="tooltip" title="表示涉及過去1天內的新增個案"><i class='fas fa-biohazard' style="color:red;"></i></span>
          </b></div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col" id="wrapper-table-building"></div>
      <div class="modal fade" id="caseDetailModal">
        <div class="modal-dialog modal-dialog-centered modal-xl">
          <div class="modal-content">
            <div class="modal-header">
              <h6 class="modal-title" style="width:100%">
              </h6>
              <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body table-responsive">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-dismiss="modal">關閉 Close</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row py-2">
      <div class="col" id="wrapper-table-building-loading" style="margin-bottom:500px;">
        <div class="spinner-border text-primary"></div>
      </div>
    </div>
  </div>

<button onclick="backToTop();" id="backToTopBtn" title="Back to Top"><i class='far fa-arrow-alt-circle-up'></i> Back</button>

<footer>
  <div class="container">
    <div class="row">
      <div class="col">
        &copy;
        <script>document.write(new Date().getFullYear())</script> by AmazyHK<br/>
        <a href="mailto:amazyhk@gmail.com" target="_blank"><i class="far fa-envelope"></i> amazyhk@gmail.com</a>
      </div>
    </div>
  </div>
</footer>

</body>

<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    /*
    navigator.serviceWorker.getRegistrations()
    .then(function(registrations) {
      for(let registration of registrations) {
        registration.unregister()
      }
    }).catch(function(err) {
    });
    */
    //console.log("Will the service worker register?");
    navigator.serviceWorker.register('service_worker.js')
    .then(function(reg){
      //console.log("Yes, it did.");
      //button.onclick = function() {
        reg.update();
      //};
    }).catch(function(err) {
      //console.log("No it didn't. This happened: ", err)
    });
  });
}
</script>

</html>
